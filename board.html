<!DOCTYPE html>
<html>
<head>
<style>
    html, body {
        margin: 0;
        padding: 0;
        background: black;
        height: 100%;
        width: 100%;
        overflow: hidden;
    }

    #container {
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100%;
        width: 100%;
        background: black;
        position: relative;
        font-size: 10px; 
    }

    .layer {
        position: absolute;
        max-width: 100%;
        max-height: 100%;
        object-fit: contain;
        user-select: none;
        -webkit-user-drag: none;
    }

    .overlay {
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.2s ease-in-out;
        z-index: 2;
    }

    .note {
        position: absolute;
        z-index: 3;
        transform: translate(-50%, -50%);
        white-space: nowrap;
    }
</style>
</head>
<body>

<div id="container">
    <img id="scene" class="layer" src="corkboardwithbutton.png">
    <img id="mask" class="layer" src="boardmap.png" style="display:none;">
    <img id="highlightback" class="layer overlay" src="HiBack.png">

    <!-- THIS IS THE TEXT SECTION FUCKING IDIOT-->
    <div 
        class="note"
        data-x="18"
        data-y="33"
        data-size="22"
        style="transform: translate(0%, 0%) rotate(4deg); left: 60.336px; top: 383.261px; font-size: 4.609px; color: black">
        Currently, this place is nothing.<br>
        Sorry about the mess...<br>
        come back later.
    </div>

    <div 
        class="note"
        data-x="16.25"
        data-y="60.5"
        data-size="20"
        style="transform: translate(0%, 0%) rotate(-1deg); color: #e1c1b7; font-family: monospace;"
    >
        Right now, don't do anything!
    </div>

    <div 
        class="note"
        data-x="47.5"
        data-y="60"
        data-size="19"
        style="transform: translate(0%, 0%) rotate(7deg); font-family: Courier New, Courier, monospace;"
    >
        I have only just <br>
        set this site up.
    </div>

    <div
        class="note"
        data-x="64"
        data-y="45"
        data-size="18"
        style="transform: translate(0%, 0%) rotate(-2.5deg); font-family: &quot;Comic Sans MS&quot;, &quot;Comic Sans&quot;, cursive; left: 226.45px; top: 225.131px; font-size: 3.98057px;"
        >
        Currently, I have no other sites.
    </div>

    <div 
        class="note"
        data-x="61.5"
        data-y="15"
        data-size="25"
        style="transform: translate(0%, 0%) rotate(1deg); color: #000000; font-family: Arial;"
    >
       No way to contact me, sorry!
    </div>

</div>

<script>
const scene = document.getElementById("scene");
const mask = document.getElementById("mask");
const highlightback = document.getElementById("highlightback");

const canvas = document.createElement("canvas");
const ctx = canvas.getContext("2d");

let currentColor = "";

mask.onload = () => {
    canvas.width = mask.naturalWidth;
    canvas.height = mask.naturalHeight;
    ctx.drawImage(mask, 0, 0);
};

scene.addEventListener("mousemove", (e) => {
    const rect = scene.getBoundingClientRect();

    const x = Math.floor((e.clientX - rect.left) * (mask.naturalWidth / rect.width));
    const y = Math.floor((e.clientY - rect.top) * (mask.naturalHeight / rect.height));

    const pixel = ctx.getImageData(x, y, 1, 1).data;
    currentColor = `${pixel[0]},${pixel[1]},${pixel[2]}`;

    highlightback.style.opacity = 0;

    if (currentColor === "255,255,0") highlightback.style.opacity = 1;
});

scene.addEventListener("click", (e) => {
    const rect = scene.getBoundingClientRect();

    const x = Math.floor((e.clientX - rect.left) * (mask.naturalWidth / rect.width));
    const y = Math.floor((e.clientY - rect.top) * (mask.naturalHeight / rect.height));

    const pixel = ctx.getImageData(x, y, 1, 1).data;
    const clickedColor = `${pixel[0]},${pixel[1]},${pixel[2]}`;

    if (clickedColor === "255,255,0") {
        window.location.href = "index.html";
    }
});


function positionNotes() {
    const rect = scene.getBoundingClientRect();
    const notes = document.querySelectorAll(".note");

    notes.forEach(note => {
        const x = parseFloat(note.dataset.x);
        const y = parseFloat(note.dataset.y);

        const px = rect.left + (rect.width * x / 100);
        const py = rect.top + (rect.height * y / 100);

        note.style.left = px + "px";
        note.style.top = py + "px";
    });
}


function scaleFont() {
    const rect = scene.getBoundingClientRect();
    const scale = rect.width / scene.naturalWidth;

    document.querySelectorAll(".note").forEach(note => {
        const base = parseFloat(note.dataset.size) || 16;
        note.style.fontSize = (base * scale) + "px";
    });
}

window.addEventListener("resize", () => {
    positionNotes();
    scaleFont();
});

window.addEventListener("load", () => {
    positionNotes();
    scaleFont();
});
</script>

</body>
</html>